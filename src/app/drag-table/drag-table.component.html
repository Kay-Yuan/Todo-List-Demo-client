<ion-item lines="none">
  <ion-label>{{ tableTitle }}</ion-label>
</ion-item>
<table
  mat-table
  matSort
  [id]="id"
  [dataSource]="dataSource"
  [cdkDropListData]="tasks"
  class="mat-elevation-z8"
  cdkDropList
  (matSortChange)="onSortChange($event)"
  [cdkDropListConnectedTo]="connectTo"
  (cdkDropListDropped)="drop($event)"
>
  <!-- Title Column -->
  <ng-container matColumnDef="title">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      sortActionDescription="Sort by title"
    >
      Title
    </th>
    <td mat-cell *matCellDef="let task">
      {{ task.title }}
    </td>
  </ng-container>

  <!-- Urgent Level Column -->
  <ng-container matColumnDef="urgentLevel">
    <th
      mat-header-cell
      *matHeaderCellDef
      mat-sort-header
      sortActionDescription="Sort by urgentLevel"
    >
      Urgent Level
    </th>
    <td mat-cell *matCellDef="let task">{{ task.urgentLevel }}</td>
  </ng-container>

  <!-- Weight Column -->
  <ng-container matColumnDef="description">
    <th mat-header-cell *matHeaderCellDef>Description</th>
    <td mat-cell *matCellDef="let task">{{ task.description }}</td>
  </ng-container>

  <!-- box Column -->
  <ng-container matColumnDef="checkBox">
    <th mat-header-cell *matHeaderCellDef>Status</th>
    <td mat-cell *matCellDef="let task">
      <mat-checkbox
        (change)="onTaskStatusChange(task)"
        (click)="$event.stopPropagation()"
      ></mat-checkbox>
    </td>
  </ng-container>

  <!-- Header and Row Declarations -->
  <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
  <tr
    cdkDrag
    mat-row
    (click)="toggleRow(row)"
    [class.row-is-clicked]="selectedRows.has(row)"
    *matRowDef="let row; columns: displayedColumns"
  ></tr>
</table>
